<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ház</title>
</head>
<body>
    <h1>Ház szimulátor</h1>
    <canvas id="canvas" width='3000' height='900' style="border: 1px solid;"></canvas>
    <script>
        let c = document.getElementById("canvas")
        let ctx = c.getContext("2d")
        ctx.fillStyle = "black";
        ctx.beginPath();
        ctx.arc(600,500,10,0,2*Math.PI)
        ctx.moveTo(200,50);
        ctx.lineTo(900,50);
        ctx.lineTo(900,600);
        ctx.moveTo(900,600)
        ctx.lineTo(450,600);
        ctx.moveTo(400,600)
        ctx.lineTo(200,600)
        ctx.lineTo(200,50)
        ctx.stroke();

       (function() {
  var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame ||
    window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;
  window.requestAnimationFrame = requestAnimationFrame;
})();

//event listener
window.addEventListener("keydown", onKeyDown, false);
window.addEventListener("keyup", onKeyUp, false);

function onKeyDown(event) {
  var key = event.key;
  switch (key) {
    case "d": //d
      keyD = true;
      break;
    case "s": //s
      keyS = true;
      break;
    case "a": //a
      keyA = true;
      break;
    case "w": //w
      keyW = true;
      break;
  }
}

function onKeyUp(event) {
  var key = event.key;

  switch (key) {
    case "d": //d
      keyD = false;
      break;
    case "s": //s
      keyS = false;
      break;
    case "a": //a
      keyA = false;
      break;
    case "w": //w
      keyW = false;
      break;
  }
}

//neccessary variables
var tickX = 10;
var tickY = 10;

var keyW = false;
var keyA = false;
var keyS = false;
var keyD = false;

//main animation function
function drawStuff() {
  window.requestAnimationFrame(drawStuff);
  var canvas = document.getElementById("canvas");
  var c = canvas.getContext("2d");

  c.clearRect(0, 0, 800, 800);
  c.fillStyle = "blue";
  c.fillRect(tickX, tickY, 100, 100);

  if (keyD == true) {
    tickX += 1;
  }
  if (keyS == true) {
    tickY += 1;
  }
  if (keyA == true) {
    tickX--;
  }
  if (keyW == true) {
    tickY--;
  }
}
window.requestAnimationFrame(drawStuff);




    </script>
    
</body>
</html>
